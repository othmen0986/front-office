<div class="credit-payment-container" @fadeInRight>
  <div class="header">
    <button class="back-button" (click)="goBack()">
      <fa-icon [icon]="faArrowLeft"></fa-icon> Retour
    </button>
    <h2>Paiements Crédit</h2>
  </div>
  
  <div class="content" @fadeInUp>
    <!-- Loading State -->
    <div class="loading-container" *ngIf="loading">
      <p>Chargement des paiements...</p>
    </div>

    <!-- Error State -->
    <div class="error-container" *ngIf="error">
      <p class="error-message">{{ error }}</p>
      <button (click)="loadPayments()">Réessayer</button>
    </div>

    <!-- Payments Table -->
    <div class="payments-table-container" *ngIf="!loading && !error">
      <div class="container mt-4">
        <h2>Monthly Payments</h2>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>ID</th>
                <th>Monthly Amount</th>
                <th>Remaining Capital</th>
                <th>Interest Amount</th>
                <th>Payment Date</th>
                <th>Transaction ID</th>
                <th>Loan Amount</th>
                <th>Interest Rate</th>
                <th>Term (Months)</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let payment of payments">
                <td>{{ payment.id }}</td>
                <td>{{ payment.montantMensuel | currency }}</td>
                <td>{{ payment.capitalRestant | currency }}</td>
                <td>{{ payment.montantInteret | currency }}</td>
                <td>{{ payment.datePaiement | date }}</td>
                <td>{{ payment.transactionId }}</td>
                <td>{{ payment.creditApplication.loanAmnt | currency }}</td>
                <td>{{ payment.creditApplication.loanIntRate }}%</td>
                <td>{{ payment.creditApplication.loanTermMonths }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="no-payments" *ngIf="payments.length === 0">
        Aucun paiement trouvé
      </div>
    </div>
  </div>
</div> 